{"version":3,"sources":["webpack:///./src/views/login/index.vue?c629","webpack:///src/views/login/index.vue","webpack:///./src/views/login/index.vue?e0c5","webpack:///./src/views/login/index.vue","webpack:///./src/views/login/index.vue?4946"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","slot","on","click","onClickLeft","_v","onClickRight","_m","required","clearable","label","right-icon","usernameIcon","placeholder","error-message","usernameState","model","value","callback","$$v","username","expression","type","passwordIcon","passwordState","password","size","loginclick","staticRenderFns","src","__webpack_require__","alt","vue_runtime_esm","use","es_button","cell","cell_group","field","toast","dialog","loginvue_type_script_lang_js_","data","components","header-def","Header2","computed","test","length","methods","$router","back","replace","_this","fetch","method","headers","Content-Type","body","then","res","json","console","log","confirm","title","message","$store","commit","catch","views_loginvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_71a9e7ca_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_71a9e7ca_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"kJAAA,IAAAA,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,aAAwB,CAAAF,EAAA,cAAAA,EAAA,OAA6BG,MAAA,CAAOC,KAAA,eAAqBC,GAAA,CAAKC,MAAAV,EAAAW,aAAwBH,KAAA,gBAAoBJ,EAAA,OAAYG,MAAA,CAAOC,KAAA,iBAAuBA,KAAA,iBAAsB,CAAAR,EAAAY,GAAA,QAAAR,EAAA,OAA2BG,MAAA,CAAOC,KAAA,gBAAsBC,GAAA,CAAKC,MAAAV,EAAAa,cAAyBL,KAAA,gBAAqB,CAAAR,EAAAY,GAAA,UAAAR,EAAA,OAA6BE,YAAA,WAAsB,CAAAN,EAAAc,GAAA,GAAAV,EAAA,OAAsBE,YAAA,eAA0B,CAAAF,EAAA,kBAAAA,EAAA,aAAuCG,MAAA,CAAOQ,SAAA,GAAAC,UAAA,GAAAC,MAAA,MAAAC,aAAAlB,EAAAmB,aAAAC,YAAA,SAAAC,gBAAArB,EAAAsB,eAAkIC,MAAA,CAAQC,MAAAxB,EAAA,SAAAyB,SAAA,SAAAC,GAA8C1B,EAAA2B,SAAAD,GAAiBE,WAAA,cAAwBxB,EAAA,aAAkBG,MAAA,CAAOsB,KAAA,WAAAZ,MAAA,KAAAG,YAAA,QAAAL,SAAA,GAAAG,aAAAlB,EAAA8B,aAAAT,gBAAArB,EAAA+B,eAAmIR,MAAA,CAAQC,MAAAxB,EAAA,SAAAyB,SAAA,SAAAC,GAA8C1B,EAAAgC,SAAAN,GAAiBE,WAAA,eAAwB,OAAAxB,EAAA,OAAoBE,YAAA,gBAA2B,CAAAF,EAAA,cAAmBG,MAAA,CAAOsB,KAAA,UAAAI,KAAA,SAAgCxB,GAAA,CAAKC,MAAAV,EAAAkC,aAAwB,CAAAlC,EAAAY,GAAA,mBAC1oCuB,EAAA,YAAoC,IAAAnC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,QAAmB,CAAAF,EAAA,OAAYG,MAAA,CAAO6B,IAAMC,EAAQ,QAA8BC,IAAA,4LC6CtMC,EAAA,KAAAC,IAAAC,EAAA,MACAF,EAAA,KAAAC,IAAAE,EAAA,MAAAF,IAAAG,EAAA,MACAJ,EAAA,KAAAC,IAAAI,EAAA,MACAL,EAAA,KAAAC,IAAAK,EAAA,MACAN,EAAA,KAAAC,IAAAM,EAAA,MACA,IAAAC,EAAA,CACAC,KADA,WAEA,OACArB,SAAA,GACAK,SAAA,KAGAiB,WAAA,CACAC,aAAAC,EAAA,MAEAC,SAAA,CACA9B,cADA,WAEA,WAAArB,KAAA0B,SACA,GAEA,oBAAA0B,KAAApD,KAAA0B,UAGA,GAFA,WAMAR,aAZA,WAaA,WAAAlB,KAAA0B,SACA,GAEA,KAAA1B,KAAAqB,cACA,GAEA,WAIAS,cAvBA,WAwBA,WAAA9B,KAAA+B,SACA,GAEA/B,KAAA+B,SAAAsB,OAAA,EACA,SAEA,IAIAxB,aAlCA,WAmCA,WAAA7B,KAAA+B,SACA,GAEA,KAAA/B,KAAA8B,cACA,GAEA,YAKAwB,QAAA,CACA5C,YADA,WAEAV,KAAAuD,QAAAC,QAEA5C,aAJA,WAKAZ,KAAAuD,QAAAE,QAAA,cAEAxB,WAPA,WAOA,IAAAyB,EAAA1D,KAEA,YAAAA,KAAA6B,cAAA,YAAA7B,KAAAkB,cAEAyC,MAAA,wCACAC,OAAA,OACAC,QAAA,CACAC,eAAA,qCAEAC,KAAA,YAAA/D,KAAA0B,SAAA,aAAA1B,KAAA+B,WACAiC,KAAA,SAAAC,GAAA,OAAAA,EAAAC,SAAAF,KAAA,SAAAjB,GACAoB,QAAAC,IAAArB,GACA,IAAAA,EACYF,EAAA,KAAZwB,QAAA,CACAC,MAAA,KACAC,QAAA,kBACAP,KAAA,WACAN,EAAAc,OAAAC,OAAA,yBACAf,EAAAH,QAAAC,SACAkB,MAAA,eAIA,IAAA3B,EACcF,EAAA,KAAdwB,QAAA,CACAC,MAAA,KACAC,QAAA,eACAP,KAAA,cAEAU,MAAA,cAIA,IAAA3B,EACgBF,EAAA,KAAhBwB,QAAA,CACAC,MAAA,KACAC,QAAA,eACAP,KAAA,cAEAU,MAAA,cAIgB7B,EAAA,KAAhBwB,QAAA,CACAC,MAAA,KACAC,QAAA,SACAP,KAAA,cAEAU,MAAA,mBClK8VC,EAAA,0BCQ9VC,EAAgBC,OAAAC,EAAA,KAAAD,CACdF,EACA7E,EACAoC,GACF,EACA,KACA,WACA,MAIe6C,EAAA,WAAAH,6CCnBf,IAAAI,EAAA5C,EAAA,QAAA6C,EAAA7C,EAAA8C,EAAAF,GAAsjBC,EAAG","file":"js/chunk-52f6598a.d05c5a68.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('header-def',[_c('div',{attrs:{\"slot\":\"header-left\"},on:{\"click\":_vm.onClickLeft},slot:\"header-left\"}),_c('div',{attrs:{\"slot\":\"header-center\"},slot:\"header-center\"},[_vm._v(\"登录\")]),_c('div',{attrs:{\"slot\":\"header-right\"},on:{\"click\":_vm.onClickRight},slot:\"header-right\"},[_vm._v(\"注册\")])]),_c('div',{staticClass:\"content\"},[_vm._m(0),_c('div',{staticClass:\"login-input\"},[_c('van-cell-group',[_c('van-field',{attrs:{\"required\":\"\",\"clearable\":\"\",\"label\":\"用户名\",\"right-icon\":_vm.usernameIcon,\"placeholder\":\"请输入用户名\",\"error-message\":_vm.usernameState},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}}),_c('van-field',{attrs:{\"type\":\"password\",\"label\":\"密码\",\"placeholder\":\"请输入密码\",\"required\":\"\",\"right-icon\":_vm.passwordIcon,\"error-message\":_vm.passwordState},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1)],1),_c('div',{staticClass:\"login-button\"},[_c('van-button',{attrs:{\"type\":\"primary\",\"size\":\"large\"},on:{\"click\":_vm.loginclick}},[_vm._v(\"登录\")])],1)])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"logo\"},[_c('img',{attrs:{\"src\":require(\"../../../public/img/logo.png\"),\"alt\":\"\"}})])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"container\">\r\n    <header-def>\r\n      <div slot=\"header-left\" @click=\"onClickLeft\"></div>\r\n      <div slot=\"header-center\">登录</div>\r\n      <div slot=\"header-right\" @click=\"onClickRight\">注册</div>\r\n    </header-def>\r\n    <div class=\"content\">\r\n      <div class=\"logo\">\r\n        <img src=\"../../../public/img/logo.png\" alt=\"\">\r\n      </div>\r\n      <div class=\"login-input\">\r\n        <van-cell-group>\r\n          <van-field\r\n            v-model=\"username\"\r\n            required\r\n            clearable\r\n            label=\"用户名\"\r\n            :right-icon=\"usernameIcon\"\r\n            placeholder=\"请输入用户名\"\r\n            :error-message=\"usernameState\"\r\n          />\r\n\r\n          <van-field\r\n            v-model=\"password\"\r\n            type=\"password\"\r\n            label=\"密码\"\r\n            placeholder=\"请输入密码\"\r\n            required\r\n            :right-icon=\"passwordIcon\"\r\n            :error-message=\"passwordState\"\r\n          />\r\n        </van-cell-group>\r\n      </div>\r\n      <div class=\"login-button\">\r\n        <van-button type=\"primary\" size=\"large\" @click=\"loginclick\">登录</van-button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\nimport { Field, Cell, CellGroup, Button, Toast, Dialog } from 'vant'\r\nimport Headerdef from '../../components/comment/Header2'\r\n\r\nVue.use(Button)\r\nVue.use(Cell).use(CellGroup)\r\nVue.use(Field)\r\nVue.use(Toast)\r\nVue.use(Dialog)\r\nexport default {\r\n  data () {\r\n    return {\r\n      username: '',\r\n      password: ''\r\n    }\r\n  },\r\n  components: {\r\n    'header-def': Headerdef\r\n  },\r\n  computed: {\r\n    usernameState () {\r\n      if (this.username === '') {\r\n        return ''\r\n      } else {\r\n        if (!(/^1[3456789]\\d{9}$/.test(this.username))) {\r\n          return '用户名格式错误'\r\n        } else {\r\n          return ''\r\n        }\r\n      }\r\n    },\r\n    usernameIcon () {\r\n      if (this.username === '') {\r\n        return ''\r\n      } else {\r\n        if (this.usernameState !== '') {\r\n          return ''\r\n        } else {\r\n          return 'checked'\r\n        }\r\n      }\r\n    },\r\n    passwordState () {\r\n      if (this.password === '') {\r\n        return ''\r\n      } else {\r\n        if (this.password.length < 5) {\r\n          return '密码格式错误'\r\n        } else {\r\n          return ''\r\n        }\r\n      }\r\n    },\r\n    passwordIcon () {\r\n      if (this.password === '') {\r\n        return ''\r\n      } else {\r\n        if (this.passwordState !== '') {\r\n          return ''\r\n        } else {\r\n          return 'checked'\r\n        }\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    onClickLeft () {\r\n      this.$router.back()\r\n    },\r\n    onClickRight () {\r\n      this.$router.replace('/register')\r\n    },\r\n    loginclick () {\r\n      // console.log('click')\r\n      if (this.passwordIcon === 'checked' && this.usernameIcon === 'checked') {\r\n        // console.log('fetch')\r\n        fetch('https://www.daxunxun.com/users/login', {\r\n          method: 'post',\r\n          headers: { // 看后端的接口\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          body: 'username=' + this.username + '&password=' + this.password\r\n        }).then(res => res.json()).then(data => {\r\n          console.log(data)\r\n          if (data === 1) {\r\n            Dialog.confirm({\r\n              title: '提示',\r\n              message: '登录成功，是否跳转至***'\r\n            }).then(() => {\r\n              this.$store.commit('changeLoginstate', 'ok')\r\n              this.$router.back() // 这里可能会改\r\n            }).catch(() => {\r\n              // on cancel\r\n            })\r\n          } else {\r\n            if (data === -1) {\r\n              Dialog.confirm({\r\n                title: '提示',\r\n                message: '登录失败，密码不正确'\r\n              }).then(() => {\r\n                // on confirm\r\n              }).catch(() => {\r\n                // on cancel\r\n              })\r\n            } else {\r\n              if (data === 2) {\r\n                Dialog.confirm({\r\n                  title: '提示',\r\n                  message: '登录失败，没有该用户'\r\n                }).then(() => {\r\n                  // on confirm\r\n                }).catch(() => {\r\n                  // on cancel\r\n                })\r\n              } else {\r\n                Dialog.confirm({\r\n                  title: '提示',\r\n                  message: '登录失败'\r\n                }).then(() => {\r\n                  // on confirm\r\n                }).catch(() => {\r\n                  // on cancel\r\n                })\r\n              }\r\n            }\r\n          }\r\n        })\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '@/lib/reset.scss';\r\n.container {\r\n  .content {\r\n    @include padding(10px);\r\n    @include rect(100%, 100%);\r\n    @include background-color(white);\r\n    .logo {\r\n      @include rect(2rem, auto);\r\n      @include margin(0 auto);\r\n      @include line-height(1.5rem);\r\n      img {\r\n        @include rect(2rem,auto);\r\n      }\r\n    }\r\n    .login-input {\r\n      @include rect(100%, auto);\r\n      @include margin(0 0 10px 0);\r\n    }\r\n    .login-button {\r\n      @include rect(100%, auto);\r\n      // @include padding(0 20px);\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=71a9e7ca&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=71a9e7ca&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"71a9e7ca\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=71a9e7ca&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=71a9e7ca&lang=scss&scoped=true&\""],"sourceRoot":""}