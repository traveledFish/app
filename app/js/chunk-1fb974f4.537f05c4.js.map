{"version":3,"sources":["webpack:///./src/views/register/index.vue?55f0","webpack:///./src/views/register/index.vue?d879","webpack:///src/views/register/index.vue","webpack:///./src/views/register/index.vue?7667","webpack:///./src/views/register/index.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_3e5614e5_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_3e5614e5_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","slot","on","click","onClickLeft","_v","onClickRight","_m","required","clearable","label","right-icon","usernameIcon","placeholder","error-message","usernameState","model","value","callback","$$v","username","expression","type","passwordIcon","passwordState","password","center","sms","size","idcclick","regclick","staticRenderFns","src","alt","vue_runtime_esm","use","es_button","cell","cell_group","field","toast","dialog","registervue_type_script_lang_js_","data","code","components","header-def","Header2","computed","test","length","methods","$router","back","_this","confirm","title","message","then","replace","_this2","fetch","res","json","console","log","Object","_this3","method","headers","Content-Type","body","push","catch","views_registervue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-1fb974f4.537f05c4.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=3e5614e5&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=3e5614e5&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('header-def',[_c('div',{attrs:{\"slot\":\"header-left\"},on:{\"click\":_vm.onClickLeft},slot:\"header-left\"}),_c('div',{attrs:{\"slot\":\"header-center\"},slot:\"header-center\"},[_vm._v(\"注册\")]),_c('div',{attrs:{\"slot\":\"header-right\"},on:{\"click\":_vm.onClickRight},slot:\"header-right\"},[_vm._v(\"登录\")])]),_c('div',{staticClass:\"content\"},[_vm._m(0),_c('div',{staticClass:\"register-input\"},[_c('van-cell-group',[_c('van-field',{attrs:{\"required\":\"\",\"clearable\":\"\",\"label\":\"用户名\",\"right-icon\":_vm.usernameIcon,\"placeholder\":\"请输入用户名\",\"error-message\":_vm.usernameState},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}}),_c('van-field',{attrs:{\"type\":\"password\",\"label\":\"密码\",\"placeholder\":\"请输入密码\",\"required\":\"\",\"right-icon\":_vm.passwordIcon,\"error-message\":_vm.passwordState},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('van-field',{attrs:{\"center\":\"\",\"clearable\":\"\",\"label\":\"短信验证码\",\"placeholder\":\"请输入短信验证码\"},model:{value:(_vm.sms),callback:function ($$v) {_vm.sms=$$v},expression:\"sms\"}},[_c('van-button',{attrs:{\"slot\":\"button\",\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.idcclick},slot:\"button\"},[_vm._v(\"发送验证码\")])],1)],1)],1),_c('div',{staticClass:\"register-button\"},[_c('van-button',{attrs:{\"type\":\"primary\",\"size\":\"large\"},on:{\"click\":_vm.regclick}},[_vm._v(\"注册\")])],1)])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"logo\"},[_c('img',{attrs:{\"src\":require(\"../../../public/img/logo.png\"),\"alt\":\"\"}})])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"container\">\r\n    <header-def>\r\n      <div slot=\"header-left\" @click=\"onClickLeft\"></div>\r\n      <div slot=\"header-center\">注册</div>\r\n      <div slot=\"header-right\" @click=\"onClickRight\">登录</div>\r\n    </header-def>\r\n    <div class=\"content\">\r\n      <div class=\"logo\">\r\n        <img src=\"../../../public/img/logo.png\" alt=\"\">\r\n      </div>\r\n      <div class=\"register-input\">\r\n        <van-cell-group>\r\n          <van-field\r\n            v-model=\"username\"\r\n            required\r\n            clearable\r\n            label=\"用户名\"\r\n            :right-icon=\"usernameIcon\"\r\n            placeholder=\"请输入用户名\"\r\n            :error-message=\"usernameState\"\r\n          />\r\n          <van-field\r\n            v-model=\"password\"\r\n            type=\"password\"\r\n            label=\"密码\"\r\n            placeholder=\"请输入密码\"\r\n            required\r\n            :right-icon=\"passwordIcon\"\r\n            :error-message=\"passwordState\"\r\n          />\r\n          <van-field\r\n            v-model=\"sms\"\r\n            center\r\n            clearable\r\n            label=\"短信验证码\"\r\n            placeholder=\"请输入短信验证码\"\r\n          >\r\n            <van-button slot=\"button\" size=\"small\" type=\"primary\" @click=\"idcclick\">发送验证码</van-button>\r\n          </van-field>\r\n        </van-cell-group>\r\n      </div>\r\n      <div class=\"register-button\">\r\n        <van-button type=\"primary\" size=\"large\" @click=\"regclick\">注册</van-button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\nimport { Field, Cell, CellGroup, Button, Toast, Dialog } from 'vant'\r\nimport Headerdef from '../../components/comment/Header2'\r\n\r\nVue.use(Button)\r\nVue.use(Cell).use(CellGroup)\r\nVue.use(Field)\r\nVue.use(Toast)\r\nVue.use(Dialog)\r\nexport default {\r\n  data () {\r\n    return {\r\n      username: '',\r\n      password: '',\r\n      sms: '123456',\r\n      code: '123456'\r\n    }\r\n  },\r\n  components: {\r\n    'header-def': Headerdef\r\n  },\r\n  computed: {\r\n    usernameState () {\r\n      if (this.username === '') {\r\n        return ''\r\n      } else {\r\n        if ((/^1[3456789]\\d{9}$/.test(this.username))) {\r\n          return ''\r\n        } else {\r\n          return '手机号格式错误'\r\n        }\r\n      }\r\n    },\r\n    passwordState () {\r\n      if (this.password === '') {\r\n        return ''\r\n      } else {\r\n        if (this.password.length >= 5) {\r\n          return ''\r\n        } else {\r\n          return '密码格式错误'\r\n        }\r\n      }\r\n    },\r\n    usernameIcon () {\r\n      if (this.username === '') {\r\n        return ''\r\n      } else {\r\n        if (this.usernameState !== '') {\r\n          return ''\r\n        } else {\r\n          return 'checked'\r\n        }\r\n      }\r\n    },\r\n    passwordIcon () {\r\n      if (this.password === '') {\r\n        return ''\r\n      } else {\r\n        if (this.passwordState !== '') {\r\n          return ''\r\n        } else {\r\n          return 'checked'\r\n        }\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    onClickLeft () {\r\n      this.$router.back()\r\n    },\r\n    onClickRight () {\r\n      Dialog.confirm({\r\n        title: '提示',\r\n        message: 'replace login  跳转至***'\r\n      }).then(() => {\r\n        this.$router.replace('/login')\r\n      })\r\n      // this.$router.replace('/login') // !!!重点注意\r\n    },\r\n    idcclick () {\r\n      fetch('https://www.daxunxun.com/users/sendCode?tel=' + this.username).then(res => res.json()).then(data => {\r\n        console.log(data)\r\n        if (data === 0) {\r\n          Toast('验证码获取失败')\r\n        } else if (data === 1) {\r\n          Toast('该用户已注册')\r\n        } else {\r\n          this.code = data.code\r\n        }\r\n      }) // 在这个fetch调用后台接口时，会实现向提交的手机号发送一条验证码短信的功能，并且会向前端返回验证码数据。其实该接口在发送验证码之前会比对数据库，看该电话号码是否已注册，如果已注册，那么不执行发送验证码步骤，直接返回信息“1”\r\n    },\r\n    regclick () {\r\n      // 判断如果用户名格式正确，密码格式正确，验证码正确，那就向后台发送注册信息\r\n      if (this.passwordIcon === 'checked' && this.usernameIcon === 'checked' && this.sms === this.code) {\r\n        console.log('提交了注册信息')\r\n        fetch('https://www.daxunxun.com/users/register', {\r\n          method: 'post',\r\n          headers: { // 看后端的接口\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          body: 'username=' + this.username + '&password=' + this.password\r\n        }).then(res => res.json()).then(data => {\r\n          console.log('注册结果：')\r\n          console.log(data)\r\n          if (data === 1) {\r\n            console.log('注册成功')\r\n            Dialog.confirm({\r\n              title: '提示',\r\n              message: '注册成功，是否跳转至***'\r\n            }).then(() => {\r\n              this.$router.push('/login')\r\n            }).catch(() => {\r\n              // on cancel\r\n            })\r\n          } else {\r\n            if (data === 2) {\r\n              console.log('该用户已注册')\r\n              Toast('该用户已注册')\r\n            } else {\r\n              console.log('注册失败')\r\n              Toast('注册失败')\r\n            }\r\n          }\r\n        })\r\n      } else {\r\n        if (this.usernameIcon !== 'checked') {\r\n          console.log('手机号格式不对，无法注册')\r\n          Toast('手机号格式不对，无法注册')\r\n        } else {\r\n          if (this.passwordIcon !== 'checked') {\r\n            console.log('密码格式不对，无法注册')\r\n            Toast('密码格式不对，无法注册')\r\n          } else {\r\n            console.log('验证码不对，无法注册')\r\n            Toast('验证码不对，无法注册')\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '@/lib/reset.scss';\r\n.container {\r\n  .content {\r\n    @include padding(10px);\r\n    @include rect(100%, 100%);\r\n    @include background-color(white);\r\n    .logo {\r\n      @include rect(2rem, auto);\r\n      @include margin(0 auto);\r\n      @include line-height(1.5rem);\r\n      img {\r\n        @include rect(2rem,auto);\r\n      }\r\n    }\r\n    .register-input {\r\n      @include rect(100%, auto);\r\n      @include margin(0 0 10px 0);\r\n    }\r\n    .register-button {\r\n      @include rect(100%, auto);\r\n      // @include padding(0 20px);\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=3e5614e5&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=3e5614e5&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3e5614e5\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}